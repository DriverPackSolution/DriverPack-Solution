<!--[if !(IE 6)]><!-->
<!DOCTYPE html>
<!--<![endif]-->
<html>
    <head>
        <title>DriverPack Solution</title>
		<!-- { FAVICON } -->
        <link rel="shortcut icon" href="Tools\icon.ico" type="image/x-icon" />

        <!-- { IE10 } -->
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta http-equiv="MSThemeCompatible" content="yes" />

        <!-- { NO CACHE IE }-->
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="pragma" content="no-cache" />

		<!-- { UPDATE SERVER }-->
		<script type="text/javascript">
			var scriptLoading = document.createElement('script');
			scriptLoading.type = 'text/javascript';
			scriptLoading.async = true;
			scriptLoading.src = 'http://update.drp.su/v2/';
			var s = document.getElementsByTagName('script')[0];
			var ss = s.parentNode.insertBefore(scriptLoading, s);
		</script>

        <!-- { STYLES } -->
        <link rel="stylesheet" type="text/css" href="css/normalize.min.css" />
        <link rel="stylesheet" type="text/css" href="css/open-sans.css" />
        <link rel="stylesheet" type="text/css" href="css/style.css" />
        <link rel="stylesheet" type="text/css" href="css/start.css" />
        <link rel="stylesheet" type="text/css" href="css/ui2.css" />
        <link rel="stylesheet" type="text/css" href="css/media-queries.css" />

        <!--[if (IE 6)]>
             <link rel="stylesheet" type="text/css" href="css/ie6.css" />
        <![endif]-->
        <!--[if lte IE 7]>
             <link rel="stylesheet" type="text/css" href="css/ie7.css" />
        <![endif]-->

        <script type="text/javascript" src="js/bluebird.js"></script>
        <script type="text/javascript" src="js/ie_fixes.js"></script>
        <script type="text/javascript" src="js/emulator.js"></script>

        <!-- { LIBRARIES } -->
		<script type="text/javascript" src="Tools/modules/version.js"></script>
		<script type="text/javascript" src="Tools/modules/variables.js"></script>
		<script type="text/javascript" src="Tools/modules/language.js"></script>
		<script type="text/javascript" src="Tools/modules/error.js"></script>
		<script type="text/javascript" src="Tools/modules/logs.js"></script>
        <!-- https://code.google.com/p/css3-mediaqueries-js/ -->

        <!-- debug mode -->
        <script type="text/javascript" src="js/emulator-patcher.js"></script>

        <script type="text/javascript" src="Tools/modules/wpi.js"></script>

        <!-- { MODULES } -->
        <script type="text/javascript" src="js/wget.js"></script>
        <script type="text/javascript" src="Tools/modules/DriverPack.js"></script>
        <script type="text/javascript" src="Tools/modules/adapter.js"></script>
        <script type="text/javascript" src="Tools/modules/SoftPack.js"></script>
        <script type="text/javascript" src="Tools/modules/StartPack.js"></script>
        <script type="text/javascript" src="Tools/modules/statistics.js"></script>
        <script type="text/javascript" src="Tools/modules/onunload.js"></script>
        <script type="text/javascript" src="js/antivirus.js"></script>
        <script type="text/javascript" src="js/dws.js"></script>

        <!-- debug mode -->
        <script type="text/javascript" src="js/emulator-patcher.js"></script>

		<!--[if lt IE 7]>
			<![if gte IE 5.5]>
			<script type="text/javascript" src="js/fixpng.js"></script>
			<style type="text/css">
			.iePNG, IMG { filter:expression(fixPNG(this)); }
			.iePNG A { position: relative; }/* style for links with PNG as background */
			</style>
			<![endif]>
		<![endif]-->
    </head>

    <HTA:APPLICATION ID="dpa"
                     application="yes"
                     applicationName="DriverPack Solution"
                     borderStyle="normal"
                     caption="yes"
                     contextMenu="yes"
                     icon="./Tools/icon.ico"
                     innerBorder="no"
                     maximizeButton="yes"
                     minimizeButton="yes"
                     navigable="yes"
                     scroll="yes"
                     scrollFlat="no"
                     selection="no"
                     showInTaskBar="yes"
                     singleInstance="no"
                     sysMenu="yes"
                     version="0.1"
                     windowState="maximize"/>

    <body class="ui1 start_cta-1">

<script type="text/javascript">
/*
if(window.location.hash) {
	var commandLine = window.location.hash.substring(1);
	alert('Command line: ' + decodeURIComponent(commandLine) );
}
*/

progressCounter = {

    settings: {
        elementId: 'progressCounter',
        startCount: 1,
        endCount: 100,
        duration: 7000 //10000
    },
    _timeoutId: '',

    start: function (params){

        var _this = progressCounter;
        extendJSON(_this.settings,params);
        setTimeout(
            function(){

                extendJSON(_this.settings,params);
				//console.log(_this.settings);

                if (_this._timeoutId) { clearTimeout(_this._timeoutId); }
                _this._startTime = new Date().getTime();
                _this.number_to();

            },
            10
        );

    },

    number_to: function (){
        //var element = document.getElementById(this.settings.elementId);

        var _this = progressCounter;
        setTimeout(function() {
                var now = (new Date().getTime()) - _this._startTime;
                var progress = now / _this.settings.duration;
                var result = Math.floor((_this.settings.endCount - _this.settings.startCount) * progress + _this.settings.startCount);
                //console.log(progress);
                document.getElementById(_this.settings.elementId).innerHTML = (progress < 1 ? result : _this.settings.endCount) + ' %';
                //console.log(progress < 1 ? result : _this.settings.endCount);
                if (progress < 1) {
                    //console.log(_this._timeoutId);
                    _this._timeoutId = setTimeout(_this.number_to, 300);
                }
            },
            100
        );
    }

};


/*
progressCounter.start({
    startCount: 1,
    endCount: (80/5*1)
});
*/

/*
setTimeout(function(){
    progressCounter.start({
        startCount: progressCounter.settings.endCount,
        endCount: (80/5*2) // (80/arr.lenght*i)
    });

}, 10000);
*/


</script>

		<div id="loader">
            <a href="#"></a>&nbsp; <div id="progress"><span id="progressCounter"></span> <br><span id="progressDescription"><br><script>l(infobar_titleLoading)</script></span></div>
        </div>
        <div id="Start" style="display: none; text-align: center; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%;">
            <div class="start_wrapper">
                <div class="start_wrapper-inner">
                    <div class="start_head-logo"></div>
                    <p class="start_head-label"><script>l('start_pageTitle')</script></p>
                    <p class="start_msg start_msg-cta-1"><script>l('start_searchResult1')</script></p>
                    <p class="start_msg start_msg-cta-2"><script>l('start_searchResult2')</script></p>
                    <p class="start_msg start_msg-cta-3"><script>l('start_searchResult2')</script></p>
                    <button class="ui-green-button start_wrapper-button" onClick="statistics.event( { action: 'Button Install All Start clicked' } ); StartPack.clickInstallAll()"><script>l('start_installAllButton')</script></button>
                    <p id="start_msg_counter" class="start_msg-counter start_msg-cta-3"></p>
                    <div class="start_link">
                        <script>l('start_or')</script>
                        <div class="start_link-holder"><a href="#" onClick="statistics.event( { action: 'Button Expert Mode clicked' } ); statistics.event( { action: 'Screen opened Drivers' } ); StartPack.clickInstallCustom()"><script>l('start_installManuallyButton')</script></a></div>
                    </div>
                </div>
                <div class="footer"><p class="footer_copy">Artur Kuzyakov © 2015</p><p class="footer_site">www.drp.su</p></div>
            </div>
        </div>
        <div id="DriverSoft" style="display: none; height: 100%; width: 100%;"><table class="main">
            <tr>
                <!-- { LEFT BLOCK [CHARMS] }-->
                <td class="charms">
                    <img src="img\med_logo.png" class="charms_logo"/>
                    <img src="img/med_logo_ui2.png" style="display:none" class="charms_logo_ui2"/>
                    <!-- { MAIN MENU }-->
                    <div class="main-menu">
                        <a href="#" onclick="statistics.event( { action: 'Screen opened Drivers' } ); DriverPack.html();
                                return false;" id="menu-drivers" class="menu-e" title="Установка драйверов на компьютер">
                            <img id="m-pc" src="img/blank.gif"/><i><script>l('infobar_tabDriver')</script></i>_
                        </a>
                        <a href="#" onclick="statistics.event( { action: 'Screen opened Soft' } ); SoftPack.html();
                                return false;" id="menu-soft" class="menu-e" title="Установка основных программ на компьютер">
                            <img id="m-apps" src="img/blank.gif"/><i><script>l('infobar_tabProgramm')</script></i>_
                        </a>
                        <a href="#" onclick="Adapter.html()" id="menu-adapter" class="menu-e" title="TODO">
                            <img id="m-adapter" src="img/blank.gif"/><i>Android</i>_
                        </a>
						<!--
                        <a href="" onclick="WgetPack.html();
                                return false;" id="menu-wget" class="menu-e" title="Обновление драйверов и компонентов DriverPack Solution">
                            <img id="m-down" src="img/blank.gif"/><i>Менеджер закачек</i>_
                        </a>
                        <a href="" class="menu-e" title="Повышение производительности системы за счет специализированых настроек">
                            <img id="m-setup" src="img/blank.gif"/><i>Оптимизация</i>_
                        </a>
                        <a href="" class="menu-e" title="Диагностика состояния компьютера">
                            <img id="m-toolkit" src="img/blank.gif"/><i>Диагностика</i>_
                        </a>
                        -->
                    </div>

                    <!-- { BOTTOM MENU } -->
                    <u id="bottom-menu-line" class="menu-line">__</u>


        			<div class="bottom-menu">
        				<div id="settings">
        					<select name="language" id="language" style="width:100px;" onChange="language_onChange(this);" style="font-size:9pt;"></select>
        				</div>

        				<script language="javascript" type="text/javascript">
        					language_list();

        					function toggle(el) {
        						el.style.display = (el.style.display !== 'block') ? 'block' : 'none'
        					}
        				</script>
                        <!--
        				<a href="" class="bt-menu-e" title="" onclick="123123()" style="margin-left:-15px;text-align:center;">
                            <img id="m-gears" src="img/blank.gif"/><i>Сгенерировать ошибку</i>_
                        </a>
                        -->
        			</div>
        			<!--
                    <div class="bottom-menu">
                        <a href="" class="bt-menu-e" title="">
                            <img id="m-reload" src="img/blank.gif"/><i>Обновить окно</i>_
                        </a>
                        <a href="" class="bt-menu-e" title="">
                            <img id="m-uac" src="img/blank.gif"/><i>Диспечер устройств</i>_
                        </a>
                        <a href="" class="bt-menu-e" title="">
                            <img id="m-store" src="img/blank.gif"/><i>Уст. и удал. программ</i>_
                        </a>
                        <a href="" class="bt-menu-e" title="">
                            <img id="m-gears" src="img/blank.gif"/><i>Настройки</i>_
                        </a>
                        <a href="" class="bt-menu-e" title="">
                            <img id="m-help" src="img/blank.gif"/><i>Справка</i>_
                        </a>
                    </div>
        			-->
                    <div class="copyright">
                        <a href="#" onclick="dws.click(); event.preventDefault ? event.preventDefault() : event.returnValue = false;" id="dws" class="dws" title="">
                            <span id="dws-text">Удаление слежки Windows</span>
                        </a>
                        <div class="copyright-item" style="display:none"><a href="#" onClick="statistics.event( { category: 'Desktop', action: 'Button Language clicked', label: statistics.drpVersion } ); toggle(document.getElementById('settings'))" class="menu-language-link">Language</a></div>
                        <div class="copyright-item" style="display:none"><a href="mailto:support@drp.su" class="menu-support-link">support@drp.su</a></div>
                        <div>Artur Kuzyakov © 2015</div>
                    </div>
                </td>
                <!-- { RIGHT BLOCK [CONTENT] }-->
                <td class="app-container"><div id="AppDriversSoft">
                    <h1 id="h1-title" class="app-title"><script>l('infobar_DrvInst')</script></h1>
                    <div class="notification">
                        <div class="nt-body"><img class="nt-icon" src="img/info.png"><span class="nt-description" id="description"><script>l('infobar_titleDriverAvailable')</script></br></span></div>
                        <div class="nt-footer"><button id="getDownloadInstallTop" onclick="statistics.event( { action: 'Button Install All clicked' } ); getDownloadInstallAll();"><script>l('infobar_buttonInst')</script></button></div>
                    </div>

                    <!-- { ITEMS [LIST] } -->
                    <div class="items-list">
        				<div id="div-list">
        					<table id="list">
        						<thead>
        							<tr>
        								<td></td>
        								<td><script>l('infobar_tabDriver')</script></td>
        								<td></td>
        								<td></td>
        							</tr>
        						</thead>
        						<tbody>
        						</tbody>
        					</table>
        				</div>
                    </div>
                    <div class="app-footer">
                        <button id="getDownloadInstallBottom" class="app-footer-button" onclick="statistics.event( { action: 'Button Install ' + nowShowedScreen + ' clicked' } ); getDownloadInstall();"><script>l('infobar_buttonInst')</script></button>
                    </div>

                </div>
                <div id="Adapter">
                    <div id="adapter1">
                        <h3 class="adapter_head">В DriverPack вы можете настроить Android планшет или&nbsp;телефон в&nbsp;два клика и&nbsp;без регистрации</h3>
                        <p class="adapter_list-title">Выберите приложения для установки:</p>
                        <table class="adapter_list">
                            <tr>
                                <td id="adapter_cell1" class="adapter_cell active">
                                    <table class="adapter_card-content" onclick="Adapter.clickApp(event, 1); return false">
                                        <tr>
                                            <td rowspan="2" width="34"></td>
                                            <td rowspan="2" width="60" class="adapter_card-image">
                                                <img src="img/adapter/ico-wa.png" width="60" height="60" alt="WhatsApp Messenger">
                                            </td>
                                            <td class="adapter_card-text">
                                                <table>
                                                    <tr>
                                                        <td class="adapter_card-name">1. WhatsApp Messenger</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="adapter_card-developer">
                                                            WhatsApp Inc.&nbsp;&nbsp;
                                                            <img src="img/adapter/stars-1.png" style=" vertical-align: top;">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <label class="adapter_label" onclick="Adapter.clickApp(event, 1); return false">
                                        <input type="checkbox" checked="checked" onclick="Adapter.clickApp(event, 1, true);" id="adapter_label-input1" class="adapter_label-input">
                                    </label>
                                </td>
                                <td id="adapter_cell2" class="adapter_cell active">
                                    <table class="adapter_card-content" onclick="Adapter.clickApp(event, 2); return false">
                                        <tr>
                                            <td rowspan="2" width="34"></td>
                                            <td rowspan="2" width="60" class="adapter_card-image">
                                                <img src="img/adapter/ico-ya.png" width="60" height="60" alt="Яндекс.Браузер">
                                            </td>
                                            <td class="adapter_card-text">
                                                <table>
                                                    <tr>
                                                        <td class="adapter_card-name">2. Яндекс.Браузер для Android</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="adapter_card-developer">
                                                            Яндекс&nbsp;&nbsp;
                                                            <img src="img/adapter/stars-1.png" style=" vertical-align: top;">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <label class="adapter_label" onclick="Adapter.clickApp(event, 2); return false">
                                        <input type="checkbox" checked="checked" onclick="Adapter.clickApp(event, 2, true);" id="adapter_label-input2" class="adapter_label-input">
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td id="adapter_cell3" class="adapter_cell active">
                                    <table class="adapter_card-content" onclick="Adapter.clickApp(event, 3); return false">
                                        <tr>
                                            <td rowspan="2" width="34"></td>
                                            <td rowspan="2" width="60" class="adapter_card-image">
                                                <img src="img/adapter/ico-ig.png" width="60" height="60" alt="Instagram">
                                            </td>
                                            <td class="adapter_card-text">
                                                <table>
                                                    <tr>
                                                        <td class="adapter_card-name">3. Instagram</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="adapter_card-developer">
                                                            Instagram&nbsp;&nbsp;
                                                            <img src="img/adapter/stars-1.png" style=" vertical-align: top;">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <label class="adapter_label" onclick="Adapter.clickApp(event, 3); return false">
                                        <input type="checkbox" checked="checked" onclick="Adapter.clickApp(event, 3, true);" id="adapter_label-input3" class="adapter_label-input">
                                    </label>
                                </td>
                                <td id="adapter_cell4" class="adapter_cell active">
                                    <table class="adapter_card-content" onclick="Adapter.clickApp(event, 4); return false">
                                        <tr>
                                            <td rowspan="2" width="34"></td>
                                            <td rowspan="2" width="60" class="adapter_card-image">
                                                <img src="img/adapter/ico-sky.png" width="60" height="60" alt="Skype">
                                            </td>
                                            <td class="adapter_card-text">
                                                <table>
                                                    <tr>
                                                        <td class="adapter_card-name">4. Skype</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="adapter_card-developer">
                                                            Skype&nbsp;&nbsp;
                                                            <img src="img/adapter/stars-3.png" style=" vertical-align: top;">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <label class="adapter_label" onclick="Adapter.clickApp(event, 4); return false">
                                        <input type="checkbox" checked="checked" onclick="Adapter.clickApp(event, 4, true);" id="adapter_label-input4" class="adapter_label-input">
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td id="adapter_cell5" class="adapter_cell">
                                    <table class="adapter_card-content" onclick="Adapter.clickApp(event, 5); return false">
                                        <tr>
                                            <td rowspan="2" width="34"></td>
                                            <td rowspan="2" width="60" class="adapter_card-image">
                                                <img src="img/adapter/ico-viber.png" width="60" height="60" alt="Viber">
                                            </td>
                                            <td class="adapter_card-text">
                                                <table>
                                                    <tr>
                                                        <td class="adapter_card-name">5. Viber</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="adapter_card-developer">
                                                            Viber Media&nbsp;&nbsp;
                                                            <img src="img/adapter/stars-3.png" style=" vertical-align: top;">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <label class="adapter_label" onclick="Adapter.clickApp(event, 5); return false">
                                        <input type="checkbox" onclick="Adapter.clickApp(event, 5, true);" id="adapter_label-input5" class="adapter_label-input">
                                    </label>
                                </td>
                                <td id="adapter_cell6" class="adapter_cell">
                                    <table class="adapter_card-content" onclick="Adapter.clickApp(event, 6); return false">
                                        <tr>
                                            <td rowspan="2" width="34"></td>
                                            <td rowspan="2" width="60" class="adapter_card-image">
                                                <img src="img/adapter/ico-vk.png" width="60" height="60" alt="ВКонтакте">
                                            </td>
                                            <td class="adapter_card-text">
                                                <table>
                                                    <tr>
                                                        <td class="adapter_card-name">6. ВКонтакте</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="adapter_card-developer">
                                                            VK.com&nbsp;&nbsp;
                                                            <img src="img/adapter/stars-1.png" style=" vertical-align: top;">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <label class="adapter_label" onclick="Adapter.clickApp(event, 6); return false">
                                        <input type="checkbox" onclick="Adapter.clickApp(event, 6, true);" id="adapter_label-input6" class="adapter_label-input">
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td id="adapter_cell7" class="adapter_cell">
                                    <table class="adapter_card-content" onclick="Adapter.clickApp(event, 7); return false">
                                        <tr>
                                            <td rowspan="2" width="34"></td>
                                            <td rowspan="2" width="60" class="adapter_card-image">
                                                <img src="img/adapter/ico-ok.png" width="60" height="60" alt="Одноклассники">
                                            </td>
                                            <td class="adapter_card-text">
                                                <table>
                                                    <tr>
                                                        <td class="adapter_card-name">7. Одноклассники</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="adapter_card-developer">
                                                            Odnoklassniki Ltd&nbsp;&nbsp;
                                                            <img src="img/adapter/stars-1.png" style=" vertical-align: top;">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <label class="adapter_label" onclick="Adapter.clickApp(event, 7); return false">
                                        <input type="checkbox" onclick="Adapter.clickApp(event, 7, true);" id="adapter_label-input7" class="adapter_label-input">
                                    </label>
                                </td>
                                <td id="adapter_cell8" class="adapter_cell">
                                    <table class="adapter_card-content" onclick="Adapter.clickApp(event, 8); return false">
                                        <tr>
                                            <td rowspan="2" width="34"></td>
                                            <td rowspan="2" width="60" class="adapter_card-image">
                                                <img src="img/adapter/ico-cmsec.png" width="60" height="60" alt="CM Security">
                                            </td>
                                            <td class="adapter_card-text">
                                                <table>
                                                    <tr>
                                                        <td class="adapter_card-name">8. CM Security защита и антивирус</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="adapter_card-developer">
                                                            Cheetah Mobile&nbsp;&nbsp;
                                                            <img src="img/adapter/stars-2.png" style=" vertical-align: top;">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <label class="adapter_label" onclick="Adapter.clickApp(event, 8); return false">
                                        <input type="checkbox" onclick="Adapter.clickApp(event, 8, true);" id="adapter_label-input8" class="adapter_label-input">
                                    </label>
                                </td>
                            </tr>
                        </table>
                        <button class="adapter_btn adapter_button-large" onClick="Adapter.nextScreen();return false">Далее <img src="img/adapter/icon-arrow.png" class="adapter_button-arrow"></button>
                    </div>

                    <div id="adapter2" style="display:none; width: 600px; margin: 0 auto; text-align: center;">
                        <h3 class="adapter_head">Подключите ваше Android устройство<br/>к&nbsp;компьютеру и&nbsp;нажмите «Далее»</h3>
                        <img src="img/adapter/set-device.jpg" class="adapter_device-img">
                        <button class="adapter_btn adapter_button-large" onClick="Adapter.nextScreen();return false">Далее <img src="img/adapter/icon-arrow.png"></button>
                    </div>

                    <div id="adapter3" style="display:none; width: 600px; margin: 0 auto; text-align: center;" >
                        <img src="img/loading.gif" id="adapter_progress" class="adapter_progress"/>
                        <div id="adapter_form" class="adapter_form" style="display: none;">
                            <p class="adapter_form-text">Извините, не удалось подключиться<br/>к&nbsp;вашему устройству.</p>
                            <p id="adapter_form-text" class="adapter_form-text">Пожалуйста, уточните модель вашего Android устройства, чтобы мы&nbsp;могли добавить поддержку для него.</p>
                            <div id="adapter_form-controls" class="adapter_form-controls">
                                <input type="text" id="adapter_form-input" class="adapter_form-input"/>
                                <button id="adapter_form-button" class="adapter_btn adapter_button-small" onClick="Adapter.clickButton(); return false">Отправить</button>
                            </div>
                        </div>
                    </div>
                </div></td>
            </tr>
        </div></table>

<!-- { SCRIPT LOADS AFTER ALL PAGE CONTENT } -->
<script type="text/javascript">

    try {
        //fixPNG($('.menu-item-img'));
        //alert('a');
    }
    catch (e)
    {
        alert(e.toString());
    }

    /*
     * если на нативном js, то добавить:
     document.getElementById("m-apps").parentNode.classList.add("green");
     убрать document.getElementById("m-apps").parentNode.classList.remove("green");
     */

    function getDownloadInstall() {

        //document.getElementById('loader').style.display = 'block';
        var names = new Array();
        var tbodys = document.getElementById('list').getElementsByTagName('tbody');
        for (var i = 0, n = tbodys.length; i < n; i++) {
            if (i in tbodys) {
                var inputs = tbodys[i].getElementsByTagName('input');
                for (var j = 0, m = inputs.length; j < m; j++) {
                    if (j in inputs && inputs[j].type == 'checkbox' && inputs[j].checked) {
                        names.push(decodeURIComponent(('dataset' in inputs[j]) ? inputs[j].dataset.name : inputs[j].getAttribute("data-name")));
                    }
                }
            }
        }
        /*$('#list tbody input[type=checkbox]:checked').each(function () {
         names.push(decodeURIComponent($(this).data('name')));
         });*/
        for (var i = 0; i < names.length; i++) {
            if (document.getElementById("m-pc").parentNode.classList.contains("active")) {
                DriverPack.get(names[i]).download();
                DriverPack.get(names[i]).install();
            }
            //echo('  test(SoftPack.get("' + names[i] + '").download(), \'' + JSON.stringify(SoftPack.get(names[i]).download()) + '\');');
            //echo('  test(SoftPack.get("' + names[i] + '").install(), \'' + JSON.stringify(SoftPack.get(names[i]).install()) + '\');');
            //if (document.getElementById("m-apps").parentNode.classList.contains("green")) {
            //    SoftPack.get(names[i]).download();
            //    SoftPack.get(names[i]).install();
            //}
        }
        //document.getElementById('loader').style.display = 'none';
    }

	var nowShowedScreen;
	function getDownloadInstallAll(){

		getDownloadInstall(
			function(){


				if (nowShowedScreen=='Drivers'){
					SoftPack.html();
				}
				else {
					DriverPack.html();
				}
				getDownloadInstall(
					function(){

						setTimeout(
                            function(){
                                document.getElementById('progressDescription').innerHTML = '<div style="font-size:36px;">' + infobar_titleAllInst + '<br>' + infobar_titleProgramm + '</div> <button onclick="DriverPack.init(function () { DriverPack.html(); })">' + button_finish + '</button>';
							},
							10
						);
					}
				);

			}
		);

	}



    //document.addEventListener("DOMContentLoaded", function (event) {


	var onReady = function(){

		if ((typeof(DriverPack)=='undefined') || (typeof(SoftPack)=='undefined') || (typeof(logs)=='undefined') || (typeof(statistics)=='undefined') || !document.body){
			setTimeout(onReady,100);
			return false;
		}
        window.offscreenBuffering = false;

		log('DriverPack Solution ' + version + ' ' + verType);
		log('gitVersion:',gitVersion);
		log('Windows ' + OSVersion + ' SP' + OSVersionSP + ' ' + (is64?'x64':'x32'));


		//Удаляет NTFS Alternate Data Streams чтобы небыло предупреждений безопасности
		//WshShell.Run('cmd /c echo for /r ..\\ %%f in (*.exe) do echo [ZoneTransfer] ^> %%f:Zone.Identifier > %temp%\\stream-d.cmd & %temp%\\stream-d.cmd', 0, false);
        if (fso.FileExists('Tools\\streams-d.cmd')) {
    		WshShell.Run('Tools\\streams-d.cmd', 0, false);
        } else {
            log('WARNING: Tools\\streams-d.cmd is missing')
        }

        // experiment
        document.body.className = [
            'ui' + statistics.experiment.ui,
            'copy' + statistics.experiment.copy,
            statistics.experiment.adapterExperiment ? 'adapter-experiment' : '',
            statistics.experiment.startExperiment ? 'start_cta-' + statistics.experiment.startCTA : '',
            statistics.experiment.newsExperiment ? 'news-experiment' : ''
        ].join(' ');

		DriverPack.init(function () {
			log('DriverPack loaded');
    		SoftPack.init(function () {
                log('SoftPack loaded');
                dws.init()
                if (statistics.experiment.startExperiment) {
                    StartPack.html();
                } else {
                    DriverPack.html();
                }
            });
        });


		setTimeout(
			function(){

				if ((!DriverPack._json.length) && (!SoftPack._json.length)) {

					document.getElementById('loader').style.backgroundImage = 'none';
					document.getElementById('progressDescription').style.marginTop = '-200px';
					document.getElementById('progressDescription').style.width = '500px'
					document.getElementById('progressDescription').innerHTML = '<img src="img/wifi-disabled.png"><br>' + about_noconnection;

					statistics.event( { action: 'Screen opened NoInternet' } );


				}

			},
			120000
		);
	}

	setTimeout(onReady,100);
</script>
<script type="text/javascript" src="js/css3-mediaqueries.js"></script>

</body>
</html>
